# モバイル版 機能差異レポート

## 概要

モバイル版（Expo/React Native対応）はWeb版の機能を大幅に簡略化した、基本的なカレンダー・スケジュール管理に特化したアプリです。AI検索、詳細なスケジュール編集、カテゴリ管理などの高度な機能は実装されていません。

**対応プラットフォーム**: Web（localhost:8081）、iOS、Android（Expo）

## 機能比較表

| 機能 | Web版 | モバイル版 | 差異 |
|------|-------|-----------|------|
| **カレンダー表示** | 月/週/日 | 月/週/日 | 同一 |
| **新規予定作成** | 完全フォーム | 簡略フォーム | モバイルは最小限のフィールド |
| **予定編集** | フルエディタ | タイトル/日時/カレンダー/カテゴリのみ | 制限あり |
| **予定詳細表示** | 詳細モーダル | 簡略モーダル | 情報が限定的 |
| **AI検索** | 実装済み | 準備中 | 未実装 |
| **キーワード提案** | 実装済み | 準備中 | 未実装 |
| **検索結果表示** | 店舗情報など | なし | 未実装 |
| **カテゴリ管理** | 作成/編集/削除 | 表示のみ | 読み取り専用 |
| **カレンダー管理** | 作成/編集/削除 | 表示のみ | 読み取り専用 |
| **こだわり条件設定** | 実装済み | 準備中 | 未実装 |
| **プロフィール設定** | 実装済み | ログアウトのみ | 簡略化 |
| **Google連携** | 実装済み | ロジックなし | 未実装 |
| **メモ機能** | あり | なし | 削除 |
| **繰り返し設定** | あり | なし | 削除 |
| **終了時間追加** | あり | あり | 同一 |

## 詳細な差異

### 存在しない機能（Web版にはあるがモバイル版にない）

#### 1. **AI検索機能**
- **Web版での説明**: 「AIで補完」ボタンでAI検索を起動、キーワード選択、検索結果の店舗情報表示
- **モバイル版**: 検索ボタンをクリックすると「AI検索機能は準備中です」というプレースホルダーが表示される
- **理由**: 複雑なUXを要するため、まずは基本機能に絞った

#### 2. **キーワード選択画面**
- **Web版**: AI検索後、60+個のキーワードから選択
- **モバイル版**: なし（AI検索機能そのものが未実装）

#### 3. **検索結果表示**
- **Web版**: 店舗情報、営業時間、条件判定（必須/優先/重視）、外部リンク
- **モバイル版**: なし

#### 4. **こだわり条件設定**
- **Web版**: 必須条件、優先条件、重視するポイントの詳細設定
- **モバイル版**: 条件ボタンをクリックすると「こだわり条件設定は準備中です」というプレースホルダーが表示される

#### 5. **メモ機能**
- **Web版**: 新規予定作成フォームにメモフィールド
- **モバイル版**: フォームに存在しない

#### 6. **繰り返し設定**
- **Web版**: 毎日/毎週/毎月などの繰り返し設定可能
- **モバイル版**: フォームに存在しない

#### 7. **カテゴリ管理（作成/編集/削除）**
- **Web版**: 新規作成（名前+12色パレット）、編集、削除
- **モバイル版**: カテゴリボタンをクリックすると、既存カテゴリの読み取り専用リストのみ表示。新規作成・編集・削除機能なし

#### 8. **カレンダー管理（作成/編集/削除）**
- **Web版**: 新規作成、表示/非表示切り替え、デフォルト変更、削除
- **モバイル版**: カレンダーボタンをクリックすると既存カレンダーの読み取り専用リスト表示。新規作成・設定変更機能なし

#### 9. **プロフィール設定の詳細**
- **Web版**: ユーザー名変更、メールアドレス更新、Google連携、ログアウト
- **モバイル版**: プロフィール表示とログアウトボタンのみ（ユーザー名・メールアドレスの変更機能なし、Google連携なし）

#### 10. **スケジュール詳細の完全表示**
- **Web版**: AI検索結果、メモ、削除/AI再検索/編集ボタン、複数アクション
- **モバイル版**: タイトル、日時、終日フラグのみ表示。削除・編集ボタンはあるが、AI検索結果やメモは表示されない

### 追加された機能（モバイル版にしかない）

#### 1. **FAB（フローティングアクションボタン）での予定作成**
- **説明**: 画面右下のオレンジ色の「+」ボタンで新規予定作成を即座に開始
- **Web版**: 日付クリックまたはツールバーのボタンでのみ作成開始
- **利点**: モバイルUIパターンに最適化

### UI/UXの違い

#### 1. **新規予定作成フォーム**
| 項目 | Web版 | モバイル版 |
|------|-------|-----------|
| スクロール | フォーム内スクロール | ScrollViewで全体スクロール |
| キャンセル/作成ボタン | フォーム下部（固定） | フォーム下部（スクロール対象） |
| カレンダー選択 | ドロップダウン選択 | 展開式リスト（同じモーダル内） |
| カテゴリ選択 | ドロップダウン選択 | 展開式リスト（同じモーダル内） |
| 日時ピッカー | カレンダーウィジェット | DateTimePickerコンポーネント（システムダイアログ） |

#### 2. **予定詳細モーダル**
- **Web版**: 詳細情報パネル（複数セクション、スクロール対応）
- **モバイル版**: シンプルなテキスト表示（タイトル、日時、終日フラグのみ）
- **UI**: Web版はコンパクトダイアログ、モバイル版はページシート（slideAnimation）

#### 3. **ツールバーの配置**
- **Web版**: 水平スクロール可能なツールバー（複数ボタン）
- **モバイル版**: スクロール不可の水平レイアウト（必要なボタンのみ）

#### 4. **モーダルの表示スタイル**
- **Web版**: dialog要素（overlay）
- **モバイル版**: Modal（presentationStyle="pageSheet"）で、スライドアップアニメーション

#### 5. **ユーザープロフィール表示**
| 項目 | Web版 | モバイル版 |
|------|-------|-----------|
| 位置 | ドロップダウンメニュー | プロフィールモーダル |
| 表示内容 | プロフィール詳細 + Google連携 | 名前/メール表示 + ログアウトボタン |
| 編集可能性 | あり | なし |

### 動作の違い

#### 1. **スケジュール作成時の初期値設定**
- **Web版**: クリック位置・時間スロットから開始時間を推測
- **モバイル版**: 選択日付の次時間（例：13:00なら01:00スタート）を初期値

#### 2. **予定編集時のフォーム表示**
- **Web版**: 新規作成と同じフォーム、既存値を入力済みで表示。「AIで補完」ボタンは非表示
- **モバイル版**: 新規作成と同じフォーム、既存値を入力済みで表示。「AIで補完」機能なし

#### 3. **カレンダー・カテゴリ選択の動作**
- **Web版**: ドロップダウンで一度に全オプション表示
- **モバイル版**: タップで展開式リスト（同じセクション内に挿入される）

#### 4. **日時選択の操作**
- **Web版**: クリックでカレンダーウィジェット表示
- **モバイル版**: タップでOS標準のDateTimePickerダイアログ（スピナー形式またはカレンダー形式）

#### 5. **API 401エラー時の動作**
- **Web版**: 明示的なエラーメッセージ表示
- **モバイル版**: 401エラーでもUIは表示されるが、データが空の状態（カレンダーリストが空など）

#### 6. **スケジュール削除の確認**
- **Web版**: 削除前に確認ダイアログ表示
- **モバイル版**: スケジュール詳細モーダルの削除ボタン（確認なしで実行される可能性がある）

#### 7. **「今日」ボタンの動作**
- **Web版**: 現在日付に移動
- **モバイル版**: 同一（実装は同じ）

### 実装の違い（技術的側面）

#### フォーム実装
```typescript
// Web版: shadcn/ui + HTML form elements
<Input placeholder="タイトルを入力" />
<Select value={calendarId} onValueChange={setCalendarId}>

// モバイル版: React Native + TextInput/ScrollView
<TextInput placeholder="タイトルを入力" />
<ScrollView>
  <Pressable onPress={() => setShowCalendarPicker(!showCalendarPicker)}>
```

#### スタイリング
- **Web版**: Tailwind CSS
- **モバイル版**: NativeWind（Tailwind for React Native）

#### 日時選択
- **Web版**: react-day-picker等のカスタムコンポーネント
- **モバイル版**: @react-native-community/datetimepicker（OS標準ダイアログ）

## サマリー

### モバイル版の特徴
1. **最小限の機能セット**: AI検索、詳細条件設定、メモなど複雑な機能は省略
2. **シンプルなUI**: テキスト入力、基本的な日時選択に限定
3. **読み取り専用モード**: カテゴリ・カレンダー管理は表示のみ
4. **プレースホルダー実装**: AI検索・こだわり条件は「準備中」として将来拡張予定
5. **モバイル最適化**: DateTimePickerやFABなどモバイルUXパターンを採用

### 推奨される使用シーン
- **モバイル版**: 外出先での簡単なスケジュール確認・作成
- **Web版**: オフィスでの詳細なスケジュール管理、AI検索、条件設定

### 将来の実装予定（コードのコメント等から推測）
- AI検索機能の統合
- こだわり条件設定UI
- メモ機能
- 繰り返し設定

