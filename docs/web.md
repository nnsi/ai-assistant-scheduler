# Web版機能一覧

## 概要
このドキュメントは、AI Assistant Scheduler Web版（http://localhost:5173）の全機能を網羅的にリストアップしたものです。

---

## 画面構成

### 全画面共通要素

#### ヘッダー
- **ロゴ・タイトル**: 「AI Scheduler」アイコン + テキスト
- **ユーザーボタン**: 「開 開発テストユーザー」をクリックすると「プロフィール設定」ダイアログが開く

#### トップナビゲーション（月/週/日選択エリア直下）
- **前へボタン**: 前月/前週/前日に移動
- **タイトル**: 表示中の期間（例：「2026年1月」「1/11 - 1/17」「2026年1月13日 (火)」）
- **次へボタン**: 翌月/翌週/翌日に移動

#### ツールバー（表示モード切り替え・機能ボタンエリア）
- **月表示ボタン**: 月間カレンダー表示に切り替え
- **週表示ボタン**: 週間スケジュール表示に切り替え（時間軸あり）
- **日表示ボタン**: 1日スケジュール表示に切り替え（時間軸あり）
- **予定を検索ボタン**: 検索ダイアログを開く
- **カテゴリ管理ボタン**: カテゴリ管理ダイアログを開く
- **カレンダー管理ボタン**: カレンダー管理ダイアログを開く
- **こだわり条件設定ボタン**: AI検索用のこだわり条件設定ダイアログを開く
- **今日ボタン**: 本日の表示に移動

---

## 画面別機能詳細

### 1. カレンダー表示画面（メイン画面）

#### URL
`/` または `/month` (デフォルト)

#### 概要
AIアシスト機能付きのスケジュール管理アプリケーション。

#### 表示モード

##### 月表示モード（デフォルト）
- **表示内容**: 1ヶ月分のカレンダーグリッド（7列：日〜土）
- **操作**:
  - 日付セルをクリック：新規予定作成ダイアログを開く
  - 予定ボタンをクリック：予定詳細ダイアログを開く

##### 週表示モード
- **表示内容**: 1週間分のスケジュール（時間軸：00:00〜23:00）
- **レイアウト**: 曜日ヘッダー、時間軸、予定表示

##### 日表示モード
- **表示内容**: 1日分の詳細スケジュール（時間軸：00:00〜23:00）
- **レイアウト**: 選択日の日付と曜日、時間軸、予定表示

---

### 2. 新しい予定を作成ダイアログ

#### トリガー
- カレンダーの空きセルまたは日付をクリック

#### フォーム要素

| 要素名 | 型 | 説明 | デフォルト値 |
|--------|-----|------|-----------|
| タイトル | テキスト入力 | 予定の名前 | 空白 |
| 終日 | チェックボックス | 終日予定フラグ | オフ |
| カレンダー | ボタングループ | 保存するカレンダー | 開発テストユーザー |
| カテゴリ | ボタングループ | 予定のカテゴリ | なし |
| 日付 | テキスト入力 | 開始日（YYYY-MM-DD形式） | クリックした日付 |
| 時間 | テキスト入力 | 開始時刻（HH:MM形式） | 12:00 |
| 終了時間を追加 | ボタン | 終了日時フィールドを追加 | ボタン表示中 |
| メモ | テキスト入力 | 予定のメモ | 空白 |
| 繰り返し | チェックボックス | 繰り返し予定フラグ | オフ |

#### ボタン
- **キャンセル**: ダイアログを閉じる
- **AIで補完**: AI検索補助機能（キーワード選択ダイアログを開く）
- **保存する**: 予定を作成して保存

---

### 3. 予定詳細ダイアログ

#### トリガー
- 既存予定のボタンをクリック

#### 表示内容
- **予定タイトル**: 大見出しで表示
- **日付情報**: アイコン + 日付範囲
- **時刻情報**: アイコン + 時刻範囲
- **カテゴリ**: 色付きラベル
- **AI検索結果**: 「AI検索結果を表示」テキスト（クリックで展開）
  - 基本情報（店舗情報、営業時間、アクセス）
  - その日の状況（営業予定、混雑予想）
  - イベント・限定情報
  - おすすめスポット
  - 外部リンク（ぐるなび、食べログなど）
- **メモセクション**: 見出し + 編集ボタン + メモ内容
- **アクションボタン**: 削除、AI再検索、編集

#### ボタン
- **削除**: 予定を削除する
- **AI再検索**: AI検索を再実行する
- **編集**: 予定編集ダイアログを開く

---

### 4. 予定を編集ダイアログ

#### トリガー
- 予定詳細ダイアログの「編集」ボタンをクリック

#### 特徴
- 新規作成ダイアログと同じフォーム構成
- すべてのフィールドに既存値が入力されている
- 「AIで補完」ボタンは非表示
- 「保存」ボタンで更新を保存

---

### 5. 予定を検索ダイアログ

#### トリガー
- トップナビゲーション「予定を検索」ボタンをクリック

#### フォーム要素

| セクション | 要素 | 型 | 説明 |
|----------|------|-----|------|
| キーワード | キーワード | テキスト | タイトルやメモで検索 |
| 日付範囲 | 開始日 | テキスト | 検索対象の開始日 |
| 日付範囲 | 終了日 | テキスト | 検索対象の終了日 |
| カテゴリ | フィルター | ボタングループ | 「すべて」「あああ」など |

#### ボタン
- **検索**: 検索を実行
- **クリア**: 入力を初期化

#### 結果表示
- マッチなし時：「該当する予定が見つかりませんでした」と表示
- マッチあり時：該当予定をリスト表示

---

### 6. カテゴリ管理ダイアログ

#### トリガー
- トップナビゲーション「カテゴリ管理」ボタンをクリック

#### 既存カテゴリ表示
- リスト形式で全カテゴリを表示
- 各カテゴリに削除ボタン（×）あり

#### カテゴリ新規作成フォーム
「新規作成」ボタンをクリックするとフォームが展開：

| 要素名 | 型 | 説明 |
|--------|-----|------|
| カテゴリ名 | テキスト入力 | 例：「仕事」「プライベート」 |
| カラー | ボタングループ | 12色パレット |

#### ボタン
- **新規作成**: カテゴリ作成フォームを開く
- **キャンセル**: フォーム入力をクリア
- **作成**: 新規カテゴリを作成して保存
- **閉じる**: ダイアログを閉じる

#### カラーパレット
12色：#EF4444、#F97316、#F59E0B、#84CC16、#22C55E、#14B8A6、#06B6D4、#3B82F6、#6366F1、#8B5CF6、#A855F7、#EC4899

---

### 7. カレンダー管理ダイアログ

#### トリガー
- トップナビゲーション「カレンダー管理」ボタンをクリック

#### カレンダー一覧
各カレンダーについて表示：
- **チェックボックス**: 表示/非表示の切り替え
- **カレンダー名**: 「開発テストユーザー」など
- **ロール表示**: 「デフォルト」「オーナー」「編集者」など
- **共有人数**: 「2人」など
- **設定ボタン**: カレンダーの詳細設定を開く

#### ボタン
- **すべて表示**: 全カレンダーを表示
- **デフォルトカレンダーを変更**: デフォルトカレンダーを選択し直す
- **+ 新しいカレンダーを作成**: 新規カレンダーを作成
- **閉じる**: ダイアログを閉じる

---

### 8. こだわり条件設定ダイアログ

#### トリガー
- トップナビゲーション「こだわり条件設定」ボタンをクリック

#### 説明
「ここで設定した条件は、AI検索時に自動的に考慮されます。」

#### 設定項目

| 項目名 | 説明 | 入力例 |
|--------|------|--------|
| 必須条件 | 口コミで違反が見つかれば絶対に除外します | 禁煙 |
| 優先条件 | 該当する候補を優先して表示します | 駅近、個室あり |
| 重視するポイント | 口コミを確認して評価します | 口コミ評価4.0以上 |

#### ボタン
- **キャンセル**: 変更を破棄
- **保存**: 設定を保存

---

### 9. キーワード選択ダイアログ

#### トリガー
- 新規作成ダイアログで「AIで補完」ボタンをクリック

#### 説明
「AIが予定に関連するキーワードを提案しました。気になる項目を選択してください。」

#### キーワード例（60以上）
**価格帯:** 3000円以下、5000円以下、1万円以下

**席:** 半個室、カウンター席、窓際席、テラス席

**シーン:** デート、接待、記念日、誕生日、子連れ

**料理:** 和食、洋食、イタリアン、フレンチ、中華、寿司、焼肉、居酒屋

**飲み物:** ワイン、日本酒、カクテル、飲み放題

**その他:** Wi-Fiあり、駐車場あり、喫煙ルームあり、ペット可、ネット予約、当日予約OK

#### 選択状況
- ボタンをクリックするとアクティブになる
- ボタンカウント：「検索する (N件選択中)」と表示

#### ボタン
- **別のキーワードを提案してもらう**: AIが別のキーワードセットを提案
- **スキップ**: キーワード選択なしで進む
- **検索する**: AI検索を実行

#### 注記
「こだわり条件が設定されているため、キーワード未選択でも検索できます」

---

### 10. 検索結果ダイアログ

#### 表示状態
「検索結果 取得中...」と表示し、AIが情報検索中であることを示す

#### 検索結果内容
各候補について以下が表示される：

**基本情報:**
- 店舗名
- 一言説明
- 指定日の営業状況（◯/×）
- 営業時間/定休日
- アクセス情報

**条件判定:**
- 必須条件：✅ 禁煙
- 優先条件：✅ 駅近、✅ 個室あり
- 重視ポイント：△ 口コミ評価の評価

**リンク:**
- ぐるなび、食べログなどへの外部リンク

#### ボタン
- **戻る**: 前のダイアログに戻る（通常は無効）
- **中断して閉じる**: 検索を中止してダイアログを閉じる

#### 自動保存
「完了後に自動保存されます」と表示

---

### 11. プロフィール設定ダイアログ

#### トリガー
- ヘッダーのユーザーボタン「開 開発テストユーザー」をクリック

#### 表示情報
- **ユーザー名**: 「開発テストユーザー」
- **メールアドレス**: 「dev@example.com」

#### メールアドレス更新セクション
- テキスト入力フィールド：メールアドレス
- ボタン：「メールアドレスを更新」（通常は無効）

#### Googleアカウント連携セクション
- 見出し：「Googleアカウント連携」
- 説明：「別のGoogleアカウントに紐づけ直すことができます。」
- ボタン：「Googleアカウントを再設定」

#### ボタン
- **Googleアカウントを再設定**: Google認証フローを開始
- **ログアウト**: ユーザーをログアウトさせる

---

## 機能サマリー

### コア機能
1. **カレンダー表示**: 月表示、週表示、日表示（時間軸付き）
2. **予定の作成**: クリックして新規予定ダイアログを開く
3. **予定の編集**: 予定をクリック → 編集ボタンで編集
4. **予定の削除**: 予定詳細 → 削除ボタンで削除
5. **予定の検索**: キーワード、日付範囲、カテゴリで検索
6. **AI検索補助**: タイトルからキーワードを推定して検索候補を表示
7. **予定詳細表示**: AI検索結果（店舗情報など）を含む詳細ダイアログ

### 管理機能
1. **カテゴリ管理**: カテゴリの作成、削除
2. **カレンダー管理**: カレンダーの表示/非表示、デフォルト設定
3. **こだわり条件設定**: AI検索の補助情報を設定

### ユーザー機能
1. **プロフィール設定**: メールアドレス、Google連携、ログアウト
2. **月/週/日ナビゲーション**: 前へ/次へボタン、今日ボタン

### 予定機能
1. **終日予定**: チェックボックスで設定
2. **時間指定予定**: 開始時刻、終了時刻を設定
3. **繰り返し予定**: チェックボックスで設定
4. **メモ**: 予定に任意のメモを追加

---

## テストデータ

カレンダーには以下のサンプル予定が登録されている：

- 1月3日：都内 レストラン 新宿（複数件）
- 1月4日：都内 レストラン 新宿（複数件）
- 1月5日-6日：ジョギング（16:00-17:00）
- 1月6日：横浜 散策 みなとみらい
- 1月8日、9日、12日、15日、16日、18日：レストラン 新宿
- 1月10日：箱根旅行、横浜 散策 みなとみらい
- 1月11日：aaa
- 1月12日、19日、26日：繰り返しテスト
- 1月14日、19日、24日：渋谷 ランチ
- 1月20日：仕事
- 1月21日：学校
- 1月22日：ジョギング 中野
- 1月23日：ジョギング
- 1月28日：箱根旅行

---

## 特記事項

### デフォルト値
- 新規予定作成時の開始時刻：12:00
- カレンダー選択：開発テストユーザー
- カテゴリ：なし

### 既知の設定値
- こだわり条件：
  - 必須条件：「禁煙」
  - 優先条件：「駅近、個室あり」
  - 重視するポイント：「口コミ評価4.0以上」

### UI/UX特性
- モーダルダイアログベースの設計
- 日本語インターフェース
- アイコン + テキストのハイブリッド表示
- グリッドレイアウト（カレンダー表示）
- 時間軸スケジュール表示（週表示、日表示）

