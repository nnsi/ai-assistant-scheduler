# モバイル版 機能レポート

## 概要

モバイル版（Expo/React Native対応）はWeb版と同等の機能を提供するカレンダー・スケジュール管理アプリです。AI検索、詳細なスケジュール編集、カテゴリ管理などの高度な機能もすべて実装済みです。

**対応プラットフォーム**: Web（localhost:8081）、iOS、Android（Expo）

## 機能比較表

| 機能 | Web版 | モバイル版 | 差異 |
|------|-------|-----------|------|
| **カレンダー表示** | 月/週/日 | 月/週/日 | 同一 |
| **新規予定作成** | 完全フォーム | 完全フォーム | 同一 |
| **予定編集** | フルエディタ | フルエディタ | 同一 |
| **予定詳細表示** | 詳細モーダル | 詳細モーダル | 同一 |
| **AI検索** | 実装済み | 実装済み | 同一 |
| **キーワード提案** | 実装済み | 実装済み | 同一 |
| **検索結果表示** | 店舗情報など | 店舗情報など | 同一 |
| **カテゴリ管理** | 作成/削除 | 作成/削除 | 同一 |
| **カレンダー管理** | 作成/表示切替/デフォルト変更 | 作成/表示切替/デフォルト変更 | 同一 |
| **こだわり条件設定** | 実装済み | 実装済み | 同一 |
| **プロフィール設定** | メール更新/Google連携/ログアウト | メール更新/Google連携/ログアウト | 同一 |
| **メモ機能** | あり | あり | 同一 |
| **繰り返し設定** | あり | あり | 同一 |
| **予定検索** | あり | あり | 同一 |
| **終了時間追加** | あり | あり | 同一 |

## 実装済み機能

### 1. AI検索機能
- 「AIで補完」ボタンでAI検索を起動
- 60+個のキーワードから選択
- 検索結果の店舗情報表示（条件判定、外部リンク含む）

### 2. こだわり条件設定
- 必須条件入力
- 優先条件入力
- 重視するポイント入力

### 3. カテゴリ管理
- 新規作成（名前+12色パレット）
- 削除（確認ダイアログ付き）

### 4. カレンダー管理
- 新規作成
- 表示/非表示切り替え
- デフォルトカレンダー変更

### 5. プロフィール設定
- メールアドレス更新
- Googleアカウント再設定
- ログアウト

### 6. 予定フォーム
- メモ入力フィールド
- 繰り返し設定（毎日/毎週/毎月/毎年）

### 7. 予定詳細表示
- カテゴリ表示（色付きラベル）
- メモ表示セクション
- AI検索結果表示（展開式）
- 繰り返し設定表示
- AI再検索ボタン
- 削除確認ダイアログ

### 8. 予定検索機能
- キーワード検索
- 日付範囲選択
- カテゴリフィルター

## モバイル版のみの機能

### FAB（フローティングアクションボタン）での予定作成
- 画面右下のオレンジ色の「+」ボタンで新規予定作成を即座に開始
- モバイルUIパターンに最適化

## UI/UXの違い（意図的な差異）

### 1. 新規予定作成フォーム
| 項目 | Web版 | モバイル版 |
|------|-------|-----------|
| スクロール | フォーム内スクロール | ScrollViewで全体スクロール |
| カレンダー選択 | ドロップダウン選択 | 展開式リスト |
| カテゴリ選択 | ドロップダウン選択 | 展開式リスト |
| 日時ピッカー | カレンダーウィジェット | OS標準DateTimePicker |

### 2. モーダルの表示スタイル
- **Web版**: dialog要素（overlay）
- **モバイル版**: Modal（presentationStyle="pageSheet"）

### 3. 確認ダイアログ
- **Web版**: window.confirmまたはカスタムダイアログ
- **モバイル版**: Alert.alert（ネイティブのみ動作、Web版では動作しない）

## 技術的実装

### フォーム実装
```typescript
// Web版: shadcn/ui + HTML form elements
<Input placeholder="タイトルを入力" />
<Select value={calendarId} onValueChange={setCalendarId}>

// モバイル版: React Native + TextInput/ScrollView
<TextInput placeholder="タイトルを入力" />
<ScrollView>
  <Pressable onPress={() => setShowCalendarPicker(!showCalendarPicker)}>
```

### スタイリング
- **Web版**: Tailwind CSS
- **モバイル版**: NativeWind（Tailwind for React Native）

### 日時選択
- **Web版**: react-day-picker等のカスタムコンポーネント
- **モバイル版**: @react-native-community/datetimepicker（OS標準ダイアログ）

## 既知の制限

### Web版でのAlert.alert
- `Alert.alert`はReact Nativeのネイティブ機能のため、Web版（localhost:8081）では動作しません
- 削除確認などのダイアログはネイティブアプリ（iOS/Android）でのみ表示されます

## サマリー

モバイル版はWeb版と同等の機能を提供しており、以下の特徴があります：

1. **完全な機能セット**: AI検索、詳細条件設定、メモ、繰り返し設定すべて実装済み
2. **モバイル最適化UI**: DateTimePickerやFABなどモバイルUXパターンを採用
3. **共通コードベース**: core/hooksの既存実装を最大限活用

### 推奨される使用シーン
- **モバイル版**: 外出先での予定確認・作成、AI検索
- **Web版**: 大画面での詳細なスケジュール管理
